port module Main.Ports exposing (..)

{-| Warning: this file is automatically generated. Don't edit by hand!
-}

import Json.Decode
import Json.Decode.Pipeline
import Json.Encode


type alias TagLogout =
    {}


tagLogoutDecoder : Decoder TagLogout
tagLogoutDecoder =
    Json.Decode.succeed TagLogout


encodeTagLogout : TagLogout -> Json.Encode.Value
encodeTagLogout tagLogout =
    Json.Encode.object
        , ( "tag", Json.Encode.string "logout" )
        ]


type alias NewJwt =
    { value : String
    }


newJwtDecoder : Decoder NewJwt
newJwtDecoder =
    Json.Decode.succeed NewJwt
        |> Json.Decode.Pipeline.required "value" Json.Decode.string


encodeNewJwt : NewJwt -> Json.Encode.Value
encodeNewJwt newJwt =
    Json.Encode.object
        [ ( "value", Json.Encode.string newJwt.value )
        , ( "tag", Json.Encode.string "newJwt" )
        ]


type ToWorld
    = Logout TagLogout
    | NewJwt NewJwt



toWorldDecoder : Decoder ToWorld
toWorldDecoder =
    Json.Decode.andThen
        (\tag ->
            case tag of
                "logout" ->
                    Json.Decode.map Logout tagLogoutDecoder

                "newJwt" ->
                    Json.Decode.map NewJwt newJwtDecoder
        )
        (Json.Decode.field "tag" Json.Decode.string)


encodeToWorld : ToWorld -> Json.Encode.Value
encodeToWorld toWorld =
    case toWorld of
        Logout logout ->
            encodeTagLogout logout

        NewJwt newJwt ->
            encodeNewJwt newJwt


port toWorld : Value -> Cmd msg


sendToWorld : ToWorld -> Cmd msg
sendToWorld value =
    toWorld (encodeToWorld value)
